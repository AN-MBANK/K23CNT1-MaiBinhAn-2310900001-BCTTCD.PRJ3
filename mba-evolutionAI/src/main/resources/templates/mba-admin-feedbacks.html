<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Ph·∫£n h·ªìi & Khi·∫øu n·∫°i</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-slate-800">
<div th:replace="~{fragments/mba-header :: navbar}"></div>

<div class="flex max-w-7xl mx-auto px-4 py-8">
    <div th:replace="~{fragments/mba-admin-sidebar :: sidebar}"></div>

    <main class="flex-1 p-8 w-full">
    <h1 class="text-2xl font-bold mb-6">üì© H·ªôp th∆∞ Kh√°ch h√†ng</h1>

    <div class="bg-white rounded-xl shadow overflow-hidden border border-gray-100">
        <table class="w-full text-sm text-left">
            <thead class="bg-gray-50 uppercase text-xs border-b font-bold text-gray-500">
            <tr>
                <th class="p-4">Ng√†y g·ª≠i</th>
                <th class="p-4">Kh√°ch h√†ng</th>
                <th class="p-4">N·ªôi dung</th>
                <th class="p-4">Tr·∫°ng th√°i</th>
                <th class="p-4">Thao t√°c</th>
            </tr>
            </thead>
            <tbody class="divide-y">
            <tr th:each="fb : ${feedbacks}" class="hover:bg-gray-50">
                <td class="p-4 whitespace-nowrap text-gray-500" th:text="${#temporals.format(fb.mbaCreatedAt, 'dd/MM/yyyy HH:mm')}"></td>
                <td class="p-4">
                    <div class="font-bold text-gray-900" th:text="${fb.mbaCustomerName}"></div>
                    <div class="text-xs text-gray-500" th:text="${fb.mbaEmail}"></div>
                    <div class="text-xs text-gray-500" th:text="${fb.mbaPhone}"></div>
                </td>
                <td class="p-4 max-w-md">
                    <p class="truncate w-64" th:text="${fb.mbaContent}"></p>
                </td>
                <td class="p-4">
                    <span th:if="${fb.mbaStatus == 'NEW'}" class="bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-bold">M·ªõi</span>
                    <span th:if="${fb.mbaStatus == 'RESOLVED'}" class="bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-bold">ƒê√£ x·ª≠ l√Ω</span>
                </td>
                <td class="p-4">
                    <a th:if="${fb.mbaStatus == 'NEW'}"
                       th:href="@{/mba-admin/feedbacks/resolve/{id}(id=${fb.mbaFeedbackId})}"
                       class="text-blue-600 hover:text-blue-800 font-bold text-xs border border-blue-200 bg-blue-50 px-3 py-1 rounded-full transition">
                        ‚úî ƒê√°nh d·∫•u xong
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

<div class="max-w-7xl mx-auto px-4 pt-6">
    <a th:href="@{/mba-admin}"
       class="inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 hover:text-blue-600 hover:border-blue-300 transition-all shadow-sm">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
        Quay l·∫°i Dashboard
    </a>
</div>
    </main>
</div>
</body>
</html>